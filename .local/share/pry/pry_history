friend_ids
friend_ids.map(&:to_i).join(',')
next
db.xquery(%|
SELECT *
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      AND user_id IN (?)
      ORDER BY created_at DESC
      LIMIT 50 |,
until_time, friend_ids.map(&:to_i))
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      AND user_id IN (?)
      ORDER BY created_at DESC
      LIMIT 50 |,
until_time, friend_ids.map(&:to_i)).to_a
exit
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      AND user_id IN (?)
      ORDER BY created_at DESC
      LIMIT 50 |,
until_time, friend_ids.map(&:to_i)).to_a
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      AND user_id IN (?)
      ORDER BY created_at DESC
      LIMIT 50 |,
until_time, friend_ids.map(&:to_i)).to_a
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      AND user_id IN (?)
      ORDER BY created_at DESC
      LIMIT 50 |,
until_time, friend_ids.map(&:to_i)).to_a
until_time, friend_ids.map(&:to_i))
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      AND user_id IN (?)
      ORDER BY created_at DESC
      LIMIT 50 |,
  until_time, friend_ids.map(&:to_i)
).to_a
exit
friend_ids
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      ORDER BY created_at DESC
      LIMIT 50 |
).to_a
db.xquery(%|
      SELECT *
      FROM tweets
      WHERE created_at < ?
      ORDER BY created_at DESC
      LIMIT 50 |,
until_time).to_a
exit
until_time
db.xquery(%|
       SELECT *
      FROM tweets
       AND user_id IN (?)
       ORDER BY created_at DESC
       LIMIT 50 |,
friend_ids.map(&:to_i))
friend_ids.map(&:to_i)
friend_ids.map(&:to_i))
db.xquery(%|
       SELECT *
      FROM tweets
       AND user_id IN (?)
       ORDER BY created_at DESC
       LIMIT 50 |,
friend_ids.map(&:to_i))
friend_ids
